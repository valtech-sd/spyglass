{"version":3,"sources":["components/text-with-icon.js"],"names":["AFRAME","registerComponent","schema","hasTitle","type","default","icon","titleLabel","bodyLabel","init","document","createElement","setAttribute","el","appendChild","data","iconImage","textContainer","title","body","getHeight","h","configure","titleName","textBody","iconUrl","update","tick","remove","pause","play"],"mappings":"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","file":"text-with-icon.aa7a2933.js","sourceRoot":"../../src/scenario2","sourcesContent":["\n\nAFRAME.registerComponent('textwithicon', {\n  schema: {\n    hasTitle: {\n      type: 'boolean',\n      default: true\n    },\n    icon: {\n      type: 'string',\n      default: '#benefits'\n    },\n    titleLabel: {\n      type: 'string',\n      default: 'YLANG YLANG'\n    },\n    bodyLabel: {\n      type: 'string',\n      default: \"Sweet, exotic and floral, essential oil distilled from the fragrant flowers.\"\n    },\n  },\n  init: function () {\n\n    // For now, it's a circle\n    var icon = document.createElement('a-circle');\n    icon.setAttribute(\"color\", \"#74fab9\");\n    icon.setAttribute(\"radius\", 1.5);\n    icon.setAttribute(\"segments\", 128);\n    icon.setAttribute(\"opacity\", 1.0);\n    icon.setAttribute(\"position\", \"1 0 0\");\n    this.el.appendChild(icon);\n\n    // Add a circle\n    if (this.data.icon != \"\") {\n      let iconImage = document.createElement('a-image');\n      iconImage.setAttribute(\"src\", this.data.icon);\n      iconImage.setAttribute(\"opacity\", 1.0);\n      iconImage.setAttribute(\"scale\", \"2 2 2\");\n      iconImage.setAttribute(\"color\", \"black\");\n      iconImage.setAttribute(\"position\", \"0 0 1\");\n\n      icon.appendChild(iconImage);\n    }\n\n    this.icon = icon;\n\n    let textContainer = document.createElement('a-entity');\n    textContainer.setAttribute('position', \"0 -2.25 0\");\n    this.el.appendChild(textContainer);\n\n    this.textContainer = textContainer;\n\n    if (this.data.hasTitle) {\n      var title = document.createElement('a-text');\n      title.setAttribute('mixin', \"body-text\");\n      title.setAttribute('value', this.data.titleLabel);\n      title.setAttribute('position', '0 0 0');\n\n      this.textContainer.appendChild(title);\n      this.title = title;\n    }\n\n    var body = document.createElement('a-text');\n    body.setAttribute('mixin', \"body-text\");\n    body.setAttribute('value', this.data.bodyLabel);\n\n    if (this.data.hasTitle) {\n      body.setAttribute('position', '0 -1 0');\n    } else {\n      body.setAttribute('position', '0 0 0');\n    }\n\n    this.textContainer.appendChild(body);\n    this.body = body;\n\n    // Compute width\n    // TODO: Also include text size\n    // let textAttr = text.components.value\n    //\n    // let textWidth = text.getAttribute(\"value\")\n    //   //.data.length\n    //   //* (textAttr.data.width / textAttr.data.wrapCount);\n    // this.width = Math.max(icon.getAttribute(\"width\"), textWidth);\n    // this.width = icon.getAttribute(\"width\")\n  },\n  // getWidth: function() {\n  //   console.log(\"width is \", this.width);\n  //   return this.width;\n  // },\n  getHeight: function() {\n\n    // Get height of body text\n    // TODO: Replace 2.25 with icon height + spacing\n    var h =  2.25 + 5;\n\n      //+ this.body.height;\n\n    // let bodyText = this.body.components.text\n    // let bodyHeight = this.body.getAttribute(\"height\");\n    // console.log(\"body\");\n    // console.log(this.body);\n    // bodyText.updateLayout();\n    //\n    // console.log(\"geo\")\n    // console.log(bodyText.geometry)\n    // console.log(bodyText.geometry.height)\n    // // console.log(this.body.components.text);\n    // console.log(bodyText.data);\n\n\n    if (this.hasTitle) {\n      // h += this.title.height + 1;\n      h += 1.5;\n    }\n\n    // console.log(\"height is \" + h);\n\n    // Fake number for now\n    return h;\n    // return 5;\n\n  },\n  configure: function(titleName, textBody, iconUrl) {\n\n  },\n  update: function () {},\n  tick: function () {\n\n  },\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});"]}