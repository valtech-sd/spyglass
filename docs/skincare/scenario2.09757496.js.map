{"version":3,"sources":["scenario2.js"],"names":["ready","fn","document","readyState","setTimeout","addEventListener","console","log","sceneRef","querySelector","usageData","icon","title","body","benefitsData","makePanel","data","panel","createElement","setAttribute","content","components","initializeFromData","usagePanel","benefitsPanel","benefitsPanel2","anchorRef","getElementById","tabMenuRef","contentFanRef","contentContainerRef","contentFan","contentfan","buildWithContentElements","e","index","detail","selectIndex","animator","animateToContent","tracker","onMarkerRotationUpdate","onMarkerPositionUpdate","onMarkerTrackingStarted","onMarkerTrackingEnded"],"mappings":"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","file":"scenario2.09757496.js","sourceRoot":"../../src/scenario2","sourcesContent":["\nimport fontImg from './assets/din_ot.png'\nimport fontFile from './assets/din_ot.fnt'\n\n// Also have to do the icons?\n\nfunction ready(fn) {\n  // replaces $(document).ready() in jQuery\n  if (document.readyState != 'loading'){\n\n    setTimeout(fn, 3000);\n  } else {\n    document.addEventListener('DOMContentLoaded', function() {\n      setTimeout(fn, 3000);\n    });\n  }\n}\n\nready(function() {\n  console.log( \"DOM loaded\" );\n\n  var sceneRef = document.querySelector('a-scene');\n\n\n  // <a-entity content-group position=\"-3 5.5 -50\">\n  //   <a-entity textwithicon position=\"0 0 0\"></a-entity>\n  //   <a-entity textwithicon position=\"0 0 0\"></a-entity>\n  // </a-entity>\n\n  // Test data\n  let usageData = [\n    {\n    icon: \"#step1\",\n    title: null,\n    body: \"Cleanse and tone head and neck.\"\n    }, {\n    icon: \"#step2\",\n    title: null,\n    body: \"Measure out 1/2 teaspoon of serum.\"\n    }, {\n    icon: \"#step3\",\n    title: null,\n    body: \"Massage into skin twice daily.\"\n  }];\n\n  let benefitsData = [\n    {\n      icon: \"#ylangylang\",\n      title: \"YLANG YLANG\",\n      body: \"Sweet, exotic and floral, essential oil distilled from the fragrant flowers..\"\n    }, {\n      icon: \"#panthenol\",\n      title: \"PANTHENOL\",\n      body: \"Also called B5 Vitamin, moisturizes the skin.\"\n    }];\n\n\n  let makePanel = function(data) {\n    // Build content panels with \"data\"\n    var panel = document.createElement('a-entity');\n    panel.setAttribute(\"content-group\", \"\");\n\n    let content = panel.components['content-group'];\n    content.initializeFromData(data);\n\n    return panel\n  }\n\n  // Build content panels with \"data\"\n  var usagePanel = makePanel(usageData);\n  var benefitsPanel = makePanel(benefitsData);\n  var benefitsPanel2 = makePanel(benefitsData);\n\n  // Provide content panel with an array of objects\n  var anchorRef = document.getElementById('twistParent');\n  var tabMenuRef = document.getElementById('tab-menu');\n  var contentFanRef = document.getElementById(\"contentFan\");\n  let contentContainerRef = document.getElementById(\"container\");\n\n\n  let contentFan = contentFanRef.components.contentfan\n\n  // Add content to content fan\n  // At some point we can find a better way to sync this w/the tab menu\n  contentFan.buildWithContentElements([benefitsPanel, usagePanel, benefitsPanel2 ]);\n\n  // console.log(anchorRef);\n  // Update our content fan if we've detected a new tag\n  anchorRef.addEventListener(\"tag-index-trigger\", (e)=>{ // your code here}\n    let index = e.detail.index\n\n    console.log(\"tag index triggered! \", index)\n    tabMenuRef.components[\"tab-menu\"].selectIndex(index)\n    let animator = contentFanRef.components[\"contentfan\"]\n    animator.animateToContent(index)\n  })\n\n  anchorRef.addEventListener(\"tag-rotation\", (e)=>{ // your code here}\n\n    let tracker = contentContainerRef.components[\"smoothed-marker-tracker\"]\n    tracker.onMarkerRotationUpdate(e)\n  })\n\n  anchorRef.addEventListener(\"tag-position\", (e)=>{ // your code here}\n\n    let tracker = contentContainerRef.components[\"smoothed-marker-tracker\"]\n    tracker.onMarkerPositionUpdate(e)\n  })\n\n  anchorRef.addEventListener(\"tracking-started\", (e)=>{ // your code here}\n\n    console.log(\"tracking started\")\n    let tracker = contentContainerRef.components[\"smoothed-marker-tracker\"]\n    tracker.onMarkerTrackingStarted(e)\n\n    // animator.animateContentOffset()\n    // animator.animateContentOffset(offset)\n  })\n\n  anchorRef.addEventListener(\"tracking-ended\", (e)=>{ // your code here}\n\n    console.log(\"tracking ended\")\n    let tracker = contentContainerRef.components[\"smoothed-marker-tracker\"]\n    tracker.onMarkerTrackingEnded(e)\n\n    // animator.animateContentOffset()\n    // animator.animateContentOffset(offset)\n  })\n\n  // Wiggle our content fan if the current tag has been rotated slightly\n  // anchorRef.addEventListener(\"tag-rotation\", (e)=>{ // your code here}\n  //   // let index = e.detail.index\n  //   // let offset = e.detail.normalizedRotation\n  //   // let animator = contentFanRef.components[\"content-fan\"]\n  //\n  //   // animator.animateContentOffset(offset)\n  // })\n\n\n\n});\n\n\n\n\n\n"]}