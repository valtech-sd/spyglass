{"version":3,"sources":["components/tab-menu.js"],"names":["AFRAME","registerComponent","schema","tabSpacing","type","default","init","tabElements","el","querySelectorAll","children","spacing","data","selectedIndex","self","forEach","tag","index","tabComponent","components","tabitem","tabWidth","getWidth","object3D","position","x","select","deselect","selectIndex","tabEl","i","update","tick","remove","pause","play"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEAA,MAAM,CAACC,iBAAP,CAAyB,UAAzB,EAAqC;AACnCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE,QADI;AAEVC,MAAAA,OAAO,EAAE;AAFC;AADN,GAD2B;AAOnCC,EAAAA,IAAI,EAAE,YAAY;AAEhB,SAAKC,WAAL,GAAmB,KAAKC,EAAL,CAAQC,gBAAR,CAAyB,WAAzB,CAAnB;AAEA,QAAIC,QAAQ,GAAG,KAAKF,EAAL,CAAQC,gBAAR,CAAyB,WAAzB,CAAf;AACA,SAAKE,OAAL,GAAe,KAAKC,IAAL,CAAUT,UAAzB;AAEA,SAAKU,aAAL,GAAqB,CAArB;AACA,QAAIC,IAAI,GAAG,IAAX;AAEA,SAAKP,WAAL,CAAiBQ,OAAjB,CAA0B,UAASC,GAAT,EAAcC,KAAd,EAAqB;AAC7C,UAAIC,YAAY,GAAGF,GAAG,CAACG,UAAJ,CAAeC,OAAlC;AACA,UAAIC,QAAQ,GAAGH,YAAY,CAACI,QAAb,EAAf;AACAN,MAAAA,GAAG,CAACO,QAAJ,CAAaC,QAAb,CAAsBC,CAAtB,GAA0BJ,QAAQ,GAAG,GAAX,GAAiBJ,KAAK,GAAGH,IAAI,CAACF,IAAL,CAAUT,UAA7D;;AAEA,UAAIc,KAAK,IAAIH,IAAI,CAACD,aAAlB,EAAiC;AAC/BK,QAAAA,YAAY,CAACQ,MAAb;AACD,OAFD,MAEO;AACLR,QAAAA,YAAY,CAACS,QAAb;AACD,OAT4C,CAW7C;;AACD,KAZD;AAaD,GA9BkC;AA+BnCC,EAAAA,WAAW,EAAE,UAASX,KAAT,EAAgB;AAC3B,QAAIH,IAAI,GAAG,IAAX;AACA,SAAKP,WAAL,CAAiBQ,OAAjB,CAA0B,UAASc,KAAT,EAAgBC,CAAhB,EAAmB;AAC3C,UAAIZ,YAAY,GAAGW,KAAK,CAACV,UAAN,CAAiBC,OAApC;;AACA,UAAIU,CAAC,IAAIb,KAAT,EAAgB;AACdC,QAAAA,YAAY,CAACQ,MAAb;AACD,OAFD,MAEO;AACLR,QAAAA,YAAY,CAACS,QAAb;AACD;AACF,KAPD;AAQD,GAzCkC;AA0CnCI,EAAAA,MAAM,EAAE,YAAY,CAAE,CA1Ca;AA2CnCC,EAAAA,IAAI,EAAE,YAAY,CAEjB,CA7CkC;AA8CnCC,EAAAA,MAAM,EAAE,YAAY,CAAE,CA9Ca;AA+CnCC,EAAAA,KAAK,EAAE,YAAY,CAAE,CA/Cc;AAgDnCC,EAAAA,IAAI,EAAE,YAAY,CAAE;AAhDe,CAArC","file":"tab-menu.0da34cba.js","sourceRoot":"../../src/scenario2","sourcesContent":["// Register custom components before loading HTML\n// TODO: This should actually be a combo of a component and a system...!\n// We shouldn't do all the math in the component\n\nAFRAME.registerComponent('tab-menu', {\n  schema: {\n    tabSpacing: {\n      type: 'number',\n      default: 4.25\n    }\n  },\n  init: function () {\n\n    this.tabElements = this.el.querySelectorAll('[tabitem]');\n\n    let children = this.el.querySelectorAll('[tabitem]');\n    this.spacing = this.data.tabSpacing\n\n    this.selectedIndex = 0;\n    let self = this;\n\n    this.tabElements.forEach( function(tag, index) {\n      let tabComponent = tag.components.tabitem\n      let tabWidth = tabComponent.getWidth();\n      tag.object3D.position.x = tabWidth * 0.5 + index * self.data.tabSpacing\n\n      if (index == self.selectedIndex) {\n        tabComponent.select();\n      } else {\n        tabComponent.deselect();\n      }\n\n      // tag.setAttribute(\"adjusted-rotation\", \"\")\n    })\n  },\n  selectIndex: function(index) {\n    let self = this\n    this.tabElements.forEach( function(tabEl, i) {\n      let tabComponent = tabEl.components.tabitem\n      if (i == index) {\n        tabComponent.select()\n      } else {\n        tabComponent.deselect()\n      }\n    })\n  },\n  update: function () {},\n  tick: function () {\n\n  },\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});"]}