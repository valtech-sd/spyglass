{"version":3,"sources":["components/content-group.js"],"names":["AFRAME","registerComponent","schema","contentSpacing","type","default","init","spacing","data","initLayout","contentElements","el","querySelectorAll","self","contentHeightSoFar","forEach","index","contentComponent","components","contentHeight","undefined","object3D","position","y","initializeFromData","content","hasTitle","title","contentEl","document","createElement","setAttribute","contentType","console","log","titleLabel","bodyLabel","body","icon","appendChild","update","tick","remove","pause","play"],"mappings":"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","file":"content-group.aa5fc31e.js","sourceRoot":"../../src","sourcesContent":["// Register custom components before loading HTML\n// TODO: This should actually be a combo of a component and a system...!\n// We shouldn't do all the math in the component\n\nAFRAME.registerComponent('content-group', {\n  schema: {\n    contentSpacing: {\n      type: 'number',\n      default: 1\n    }\n  },\n  init: function () {\n    this.spacing = this.data.contentSpacing;\n  },\n  initLayout: function() {\n    // this.contentElements = this.el.querySelectorAll('[content-type]');\n    this.contentElements = this.el.querySelectorAll('[textwithicon], [numbered-text], [text-paragraph-bar]');\n    let self = this;\n\n    var contentHeightSoFar = 0;\n    this.contentElements.forEach( function(el, index) {\n\n      // Unsure why it wasn't working the other way...with content type\n      // AHHHHH.\n      // don't hold this against me\n      let contentComponent = el.components[\"textwithicon\"]\n      let contentHeight = 8\n      if (contentComponent == undefined) {\n        contentComponent = el.components[\"numbered-text\"]\n        contentHeight = 4\n      }\n      if (contentComponent == undefined) {\n        contentComponent = el.components[\"text-paragraph-bar\"]\n        contentHeight = 8\n      }\n\n      // let contentHeight = contentComponent.getHeight();\n      el.object3D.position.y = contentHeightSoFar;\n\n      // Content grows down\n      // contentHeightSoFar += -self.spacing - contentHeight;\n      contentHeightSoFar += -contentHeight;\n      // console.log(\"content height so far: \", contentHeightSoFar);\n    })\n  },\n  // TODO: Have some smarter way of adding data\n  initializeFromData(data) {\n\n    let self = this\n\n    data.forEach(function (content){\n      let hasTitle = content.title != null\n\n      // Create a content element\n      var contentEl = document.createElement('a-entity');\n\n      contentEl.setAttribute(\"content-type\", {\n        contentType: content.type\n      });\n\n      // This could be better\n      switch (content.type) {\n        case \"numbered-text\":\n          console.log(\"Adding numbered text\")\n          contentEl.setAttribute(content.type, {\n            titleLabel: content.title,\n            bodyLabel: content.body\n          });\n          break;\n        case \"textwithicon\":\n          console.log(\"adding text with icon\")\n          contentEl.setAttribute(content.type, {\n            hasTitle: hasTitle,\n            icon: content.icon,\n            titleLabel: content.title,\n            bodyLabel: content.body\n          });\n          break;\n        case \"text-paragraph-bar\":\n          console.log(\"adding text with bar\")\n          contentEl.setAttribute(content.type, {\n            titleLabel: content.title,\n            bodyLabel: content.body\n          });\n          break;\n        default:\n          break;\n      }\n\n      self.el.appendChild(contentEl);\n    })\n\n    this.initLayout()\n  },\n  update: function () {},\n  tick: function () {\n\n  },\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});"]}