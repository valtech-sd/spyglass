{"version":3,"sources":["components/content-group.js"],"names":["AFRAME","registerComponent","schema","contentSpacing","type","default","init","spacing","data","initLayout","contentElements","el","querySelectorAll","self","contentHeightSoFar","forEach","index","contentComponent","components","textwithicon","contentHeight","getHeight","object3D","position","y","initializeFromData","content","hasTitle","title","contentEl","document","createElement","setAttribute","icon","titleLabel","bodyLabel","body","appendChild","update","tick","remove","pause","play"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEAA,MAAM,CAACC,iBAAP,CAAyB,eAAzB,EAA0C;AACxCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,cAAc,EAAE;AACdC,MAAAA,IAAI,EAAE,QADQ;AAEdC,MAAAA,OAAO,EAAE;AAFK;AADV,GADgC;AAOxCC,EAAAA,IAAI,EAAE,YAAY;AAChB,SAAKC,OAAL,GAAe,KAAKC,IAAL,CAAUL,cAAzB;AACA,SAAKM,UAAL;AACD,GAVuC;AAWxCA,EAAAA,UAAU,EAAE,YAAW;AACrB,SAAKC,eAAL,GAAuB,KAAKC,EAAL,CAAQC,gBAAR,CAAyB,gBAAzB,CAAvB;AACA,QAAIC,IAAI,GAAG,IAAX;AAEA,QAAIC,kBAAkB,GAAG,CAAzB;AACA,SAAKJ,eAAL,CAAqBK,OAArB,CAA8B,UAASJ,EAAT,EAAaK,KAAb,EAAoB;AAChD,UAAIC,gBAAgB,GAAGN,EAAE,CAACO,UAAH,CAAcC,YAArC;AACA,UAAIC,aAAa,GAAGH,gBAAgB,CAACI,SAAjB,EAApB,CAFgD,CAGhD;AACA;;AACAV,MAAAA,EAAE,CAACW,QAAH,CAAYC,QAAZ,CAAqBC,CAArB,GAAyBV,kBAAzB,CALgD,CAOhD;;AACAA,MAAAA,kBAAkB,IAAI,CAACD,IAAI,CAACN,OAAN,GAAgBa,aAAtC,CARgD,CAShD;AAED,KAXD;AAYD,GA5BuC;;AA6BxC;AACAK,EAAAA,kBAAkB,CAACjB,IAAD,EAAO;AAEvB,QAAIK,IAAI,GAAG,IAAX;AAEAL,IAAAA,IAAI,CAACO,OAAL,CAAa,UAAUW,OAAV,EAAkB;AAC7B,UAAIC,QAAQ,GAAGD,OAAO,CAACE,KAAR,IAAiB,IAAhC,CAD6B,CAG7B;;AACA,UAAIC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAhB;AAEAF,MAAAA,SAAS,CAACG,YAAV,CAAuB,cAAvB,EAAuC;AACrCL,QAAAA,QAAQ,EAAEA,QAD2B;AAErCM,QAAAA,IAAI,EAAEP,OAAO,CAACO,IAFuB;AAGrCC,QAAAA,UAAU,EAAER,OAAO,CAACE,KAHiB;AAIrCO,QAAAA,SAAS,EAAET,OAAO,CAACU;AAJkB,OAAvC;AAOAvB,MAAAA,IAAI,CAACF,EAAL,CAAQ0B,WAAR,CAAoBR,SAApB;AACD,KAdD;AAgBA,SAAKpB,UAAL;AACD,GAnDuC;;AAoDxC6B,EAAAA,MAAM,EAAE,YAAY,CAAE,CApDkB;AAqDxCC,EAAAA,IAAI,EAAE,YAAY,CAEjB,CAvDuC;AAwDxCC,EAAAA,MAAM,EAAE,YAAY,CAAE,CAxDkB;AAyDxCC,EAAAA,KAAK,EAAE,YAAY,CAAE,CAzDmB;AA0DxCC,EAAAA,IAAI,EAAE,YAAY,CAAE;AA1DoB,CAA1C","file":"content-group.5683148b.js","sourceRoot":"../../src/scenario2","sourcesContent":["// Register custom components before loading HTML\n// TODO: This should actually be a combo of a component and a system...!\n// We shouldn't do all the math in the component\n\nAFRAME.registerComponent('content-group', {\n  schema: {\n    contentSpacing: {\n      type: 'number',\n      default: 1\n    }\n  },\n  init: function () {\n    this.spacing = this.data.contentSpacing;\n    this.initLayout()\n  },\n  initLayout: function() {\n    this.contentElements = this.el.querySelectorAll('[textwithicon]');\n    let self = this;\n\n    var contentHeightSoFar = 0;\n    this.contentElements.forEach( function(el, index) {\n      let contentComponent = el.components.textwithicon;\n      let contentHeight = contentComponent.getHeight();\n      // console.log(\"content height \", contentHeight);\n      // console.log(self.spacing);\n      el.object3D.position.y = contentHeightSoFar;\n\n      // Content grows down\n      contentHeightSoFar += -self.spacing - contentHeight;\n      // console.log(\"content height so far: \", contentHeightSoFar);\n\n    })\n  },\n  // TODO: Have some smarter way of adding data\n  initializeFromData(data) {\n\n    let self = this\n\n    data.forEach(function (content){\n      let hasTitle = content.title != null\n\n      // Create a content element\n      var contentEl = document.createElement('a-entity');\n\n      contentEl.setAttribute(\"textwithicon\", {\n        hasTitle: hasTitle,\n        icon: content.icon,\n        titleLabel: content.title,\n        bodyLabel: content.body\n      })\n\n      self.el.appendChild(contentEl);\n    })\n\n    this.initLayout()\n  },\n  update: function () {},\n  tick: function () {\n\n  },\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});"]}