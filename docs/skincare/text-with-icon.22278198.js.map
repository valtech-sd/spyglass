{"version":3,"sources":["components/text-with-icon.js"],"names":["AFRAME","registerComponent","schema","hasTitle","type","default","icon","titleLabel","bodyLabel","init","el","setAttribute","contentType","document","createElement","appendChild","data","iconImage","textContainer","title","body","getHeight","h","configure","titleName","textBody","iconUrl","update","tick","remove","pause","play"],"mappings":"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","file":"text-with-icon.22278198.js","sourceRoot":"../../src","sourcesContent":["\n\nAFRAME.registerComponent('textwithicon', {\n  schema: {\n    hasTitle: {\n      type: 'boolean',\n      default: true\n    },\n    icon: {\n      type: 'string',\n      default: '#benefits'\n    },\n    titleLabel: {\n      type: 'string',\n      default: 'YLANG YLANG'\n    },\n    bodyLabel: {\n      type: 'string',\n      default: \"Sweet, exotic and floral, essential oil distilled from the fragrant flowers.\"\n    },\n  },\n  init: function () {\n\n    this.el.setAttribute(\"content-type\", {\n      contentType: \"textwithicon\"\n    });\n\n    // For now, it's a circle\n    var icon = document.createElement('a-circle');\n    icon.setAttribute(\"color\", \"#74fab9\");\n    icon.setAttribute(\"radius\", 1.5);\n    icon.setAttribute(\"segments\", 128);\n    icon.setAttribute(\"opacity\", 1.0);\n    icon.setAttribute(\"position\", \"1 0 0\");\n    this.el.appendChild(icon);\n\n    // Add a circle\n    if (this.data.icon != \"\") {\n      let iconImage = document.createElement('a-image');\n      iconImage.setAttribute(\"src\", this.data.icon);\n      iconImage.setAttribute(\"opacity\", 1.0);\n      iconImage.setAttribute(\"scale\", \"2 2 0\");\n      iconImage.setAttribute(\"color\", \"black\");\n      iconImage.setAttribute(\"position\", \"0 0 1\");\n      iconImage.setAttribute(\"side\", \"front\");\n\n      icon.appendChild(iconImage);\n    }\n\n    this.icon = icon;\n\n    let textContainer = document.createElement('a-entity');\n    textContainer.setAttribute('position', \"0 -2.25 0\");\n    this.el.appendChild(textContainer);\n\n    this.textContainer = textContainer;\n\n    if (this.data.hasTitle) {\n      var title = document.createElement('a-text');\n      title.setAttribute('mixin', \"body-text\");\n      title.setAttribute('value', this.data.titleLabel);\n      title.setAttribute('position', '0 0 0');\n\n      this.textContainer.appendChild(title);\n      this.title = title;\n    }\n\n    var body = document.createElement('a-text');\n    body.setAttribute('mixin', \"body-text\");\n    body.setAttribute('value', this.data.bodyLabel);\n\n    if (this.data.hasTitle) {\n      body.setAttribute('position', '0 -1 0');\n    } else {\n      body.setAttribute('position', '0 0 0');\n    }\n\n    this.textContainer.appendChild(body);\n    this.body = body;\n\n    // Compute width\n    // TODO: Also include text size\n  },\n  getHeight: function() {\n\n    // Get height of body text\n    // TODO: Replace 2.25 with icon height + spacing\n    var h =  2.25 + 5;\n\n      //+ this.body.height;\n\n    // let bodyText = this.body.components.text\n    // let bodyHeight = this.body.getAttribute(\"height\");\n    // console.log(\"body\");\n    // console.log(this.body);\n    // bodyText.updateLayout();\n    //\n    // console.log(\"geo\")\n    // console.log(bodyText.geometry)\n    // console.log(bodyText.geometry.height)\n    // // console.log(this.body.components.text);\n    // console.log(bodyText.data);\n\n\n    if (this.hasTitle) {\n      // h += this.title.height + 1;\n      h += 1.5;\n    }\n\n    // console.log(\"height is \" + h);\n\n    // Fake number for now\n    return h;\n    // return 5;\n\n  },\n  configure: function(titleName, textBody, iconUrl) {\n\n  },\n  update: function () {},\n  tick: function () {\n\n  },\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});"]}