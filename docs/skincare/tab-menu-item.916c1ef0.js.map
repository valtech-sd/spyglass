{"version":3,"sources":["components/tab-menu-item.js"],"names":["AFRAME","registerComponent","schema","iconImage","type","default","textLabel","textStyle","isSelected","init","data","icon","document","createElement","setAttribute","el","appendChild","text","width","getAttribute","onTabSelected","console","log","detail","tabName","select","deselect","getWidth","emit","confirm","update","tick","remove","pause","play"],"mappings":"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","file":"tab-menu-item.916c1ef0.js","sourceRoot":"../../src","sourcesContent":["// Register custom components before loading HTML\n// TODO: This should actually be a combo of a component and a system...!\n// We shouldn't do all the math in the component\n\nAFRAME.registerComponent('tabitem', {\n  schema: {\n    iconImage: {\n      type: 'string',\n      default: '#benefits'\n    },\n    textLabel: {\n      type: 'string',\n      default: 'hello'\n    },\n    textStyle: {\n      type: 'string',\n      default: 'hello'\n    },\n    isSelected: {\n      type: 'boolean',\n      default: true\n    }\n  },\n  init: function () {\n\n    this.isSelected = this.data.isSelected\n\n    var icon = document.createElement('a-image');\n    icon.setAttribute(\"src\", this.data.iconImage)\n    icon.setAttribute(\"width\", 2);\n    icon.setAttribute(\"height\", 2);\n    icon.setAttribute(\"animation__1\", \"property: opacity; from: 0.4; to: 1.0; dur: 300; startEvents: onSelect; easing: easeOutCubic;\");\n    icon.setAttribute(\"animation__2\", \"property: opacity; from: 1.0; to: 0.4; dur: 300; startEvents: onDeselect; easing: easeOutCubic;\");\n    this.el.appendChild(icon);\n\n    var text = document.createElement('a-text');\n    text.setAttribute('mixin', \"menu-text\");\n    text.setAttribute('value', this.data.textLabel);\n    text.setAttribute('position', '0 -1.65 0');\n    text.setAttribute(\"animation__1\", \"property: opacity; from: 0.0; to: 1.0; dur: 300; startEvents: onSelect; easing: easeOutCubic;\");\n    text.setAttribute(\"animation__2\", \"property: opacity; from: 1.0; to: 0.0; dur: 300; startEvents: onDeselect; easing: easeOutCubic;\");\n\n    this.el.appendChild(text)\n\n    // Compute width\n    // TODO: Also include text size\n    // let textAttr = text.components.value\n    //\n    // let textWidth = text.getAttribute(\"value\")\n    //   //.data.length\n    //   //* (textAttr.data.width / textAttr.data.wrapCount);\n    // this.width = Math.max(icon.getAttribute(\"width\"), textWidth);\n    this.width = icon.getAttribute(\"width\")\n\n    this.text = text\n    this.icon = icon\n  },\n  onTabSelected: function(data) {\n    console.log(\"on tab selected\", data.detail.tabName)\n\n    if (data.detail.tabName) {\n      if (data.detail.tabName === this.data.textLabel) {\n        this.select()\n      } else {\n        this.deselect()\n      }\n    }\n  },\n  getWidth: function() {\n    console.log(\"width is \", this.width);\n    return this.width;\n  },\n  select: function() {\n    if (!this.isSelected) {\n      this.isSelected = true\n      this.icon.emit('onSelect', {}, true);\n      this.text.emit('onSelect', {}, true);\n    }\n  },\n  deselect: function() {\n    if (this.isSelected) {\n      this.isSelected = false\n      this.text.emit('onDeselect', {}, true);\n      this.icon.emit('onDeselect', {}, true);\n    }\n  },\n  confirm: function() {\n\n  },\n  update: function () {},\n  tick: function () {\n\n  },\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});"]}